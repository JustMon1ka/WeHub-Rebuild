<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>社交论坛创建社区页预览</title>
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入 Google Fonts 的 Inter 字体 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* 应用 Inter 字体 */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* 为 Webkit 浏览器（Chrome, Safari）美化滚动条 */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b; /* slate-800 */
        }
        ::-webkit-scrollbar-thumb {
            background: #475569; /* slate-600 */
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b; /* slate-500 */
        }
        /* 分类卡片基础样式 */
        .category-card {
            position: relative;
            padding: 1rem;
            border-radius: 0.75rem; /* 12px */
            font-weight: 600;
            border-width: 2px;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            text-align: center;
            border-color: #475569; /* slate-600 */
            background-color: rgba(51, 65, 85, 0.5);
            color: #cbd5e1; /* slate-300 */
        }
        .category-card:hover {
            border-color: #64748b; /* slate-500 */
            background-color: rgba(71, 85, 105, 0.7);
        }
        .category-card.selected {
            border-color: #0ea5e9; /* sky-500 */
            background-color: rgba(14, 165, 233, 0.1);
            color: #ffffff;
        }
    </style>
</head>
<body class="bg-slate-900 text-slate-200">

    <div class="flex flex-col items-center justify-center min-h-screen p-4 sm:p-6">
        <div class="w-full max-w-2xl">
            <!-- 头部 -->
            <div class="text-center mb-8">
                <svg class="w-12 h-12 text-sky-400 mx-auto" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <h1 class="text-3xl font-bold mt-4">创建你的社区</h1>
                <p class="text-slate-400 mt-2">打造一个属于你的兴趣社区，邀请同好加入。</p>
            </div>

            <!-- 创建表单 -->
            <div class="bg-slate-800 p-6 sm:p-8 rounded-2xl shadow-lg">
                <form class="space-y-8">
                    <div>
                        <label for="community-name" class="block text-lg font-semibold text-slate-200">社区名称</label>
                        <p class="text-sm text-slate-400 mt-1">为你的社区起一个响亮的名字。</p>
                        <input type="text" id="community-name" placeholder="例如：独立游戏开发者" class="mt-2 block w-full bg-slate-700/50 border border-slate-600 rounded-md shadow-sm py-3 px-4 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 sm:text-sm">
                    </div>

                    <div>
                        <label for="community-description" class="block text-lg font-semibold text-slate-200">社区简介</label>
                        <p class="text-sm text-slate-400 mt-1">简单介绍你的社区，让大家快速了解。</p>
                        <textarea id="community-description" rows="4" placeholder="例如：一个分享独立游戏开发经验、作品和心得的地方。" class="mt-2 block w-full bg-slate-700/50 border border-slate-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 sm:text-sm"></textarea>
                    </div>
                    
                    <div>
                        <label class="block text-lg font-semibold text-slate-200">选择社区分类</label>
                        <p class="text-sm text-slate-400 mt-1">为你的社区选择一个最相关的分类，方便其他用户发现。</p>
                        <div id="category-container" class="grid grid-cols-2 sm:grid-cols-3 gap-4 mt-4">
                            <button type="button" class="category-card flex items-center justify-center p-4" data-category-name="游戏">
                                <span>游戏</span>
                            </button>
                             <button type="button" class="category-card flex items-center justify-center p-4" data-category-name="科技数码">
                                <span>科技数码</span>
                            </button>
                            <button type="button" class="category-card flex items-center justify-center p-4" data-category-name="影音娱乐">
                                <span>影音娱乐</span>
                            </button>
                            <button type="button" class="category-card flex items-center justify-center p-4" data-category-name="生活趣味">
                                <span>生活趣味</span>
                            </button>
                            <button type="button" class="category-card flex items-center justify-center p-4" data-category-name="运动健康">
                                <span>运动健康</span>
                            </button>
                             <button type="button" id="other-category-btn" class="category-card flex items-center justify-center p-4" data-category-name="其他">
                                <span>其他</span>
                            </button>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div>
                            <label class="block text-lg font-semibold text-slate-200">社区图标</label>
                             <p class="text-sm text-slate-400 mt-1">一个独特的图标能让社区脱颖而出。</p>
                            <div class="mt-2 flex items-center space-x-4">
                                <div class="w-24 h-24 rounded-full bg-slate-700 flex-shrink-0">
                                    <img id="icon-preview" src="https://placehold.co/150x150/1e293b/475569?text=Icon" class="w-full h-full rounded-full object-cover" alt="社区图标预览">
                                </div>
                                <label for="community-icon-upload" class="cursor-pointer text-sm font-semibold text-sky-400 hover:text-sky-500">
                                    上传图片
                                    <input id="community-icon-upload" name="community-icon-upload" type="file" class="sr-only">
                                </label>
                            </div>
                        </div>
                        <div>
                            <label class="block text-lg font-semibold text-slate-200">社区横幅</label>
                             <p class="text-sm text-slate-400 mt-1">为社区主页增添色彩。</p>
                            <div class="mt-2 w-full h-24 rounded-lg bg-slate-700 flex items-center justify-center border-2 border-dashed border-slate-600">
                                <label for="community-banner-upload" class="cursor-pointer text-center">
                                    <svg class="mx-auto h-8 w-8 text-slate-500" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true">
                                        <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                                    </svg>
                                    <span class="mt-1 text-xs text-slate-500">上传横幅</span>
                                    <input id="community-banner-upload" name="community-banner-upload" type="file" class="sr-only">
                                </label>
                            </div>
                        </div>
                    </div>

                    <div>
                        <label for="community-tags" class="block text-lg font-semibold text-slate-200">关联标签 (可选)</label>
                        <p class="text-sm text-slate-400 mt-1">添加更具体的标签能让社区更容易被发现。</p>
                        <input type="text" id="community-tags" placeholder="例如：独立游戏, 游戏开发, Unity (用逗号分隔)" class="mt-2 block w-full bg-slate-700/50 border border-slate-600 rounded-md shadow-sm py-3 px-4 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 sm:text-sm">
                    </div>

                    <div>
                        <label for="community-rules" class="block text-lg font-semibold text-slate-200">社区规则 (可选)</label>
                        <p class="text-sm text-slate-400 mt-1">为你的社区设立一些基本规则，有助于维持良好讨论氛围。</p>
                        <textarea id="community-rules" rows="5" placeholder="例如：&#10;1. 尊重他人，友好交流。&#10;2. 禁止发布垃圾广告。&#10;3. 禁止讨论违法违规内容。" class="mt-2 block w-full bg-slate-700/50 border border-slate-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 sm:text-sm"></textarea>
                    </div>
                </form>
            </div>

            <!-- 底部操作栏 -->
            <div class="mt-8 flex flex-col sm:flex-row items-center justify-center gap-4">
                 <button class="w-full sm:w-auto flex justify-center py-3 px-10 border border-slate-600 rounded-full shadow-sm text-sm font-bold hover:bg-slate-800 focus:outline-none transition-colors duration-200">
                    取消
                </button>
                <button class="w-full sm:w-auto flex justify-center py-3 px-10 border border-transparent rounded-full shadow-sm text-sm font-bold text-white bg-sky-500 hover:bg-sky-600 focus:outline-none transition-colors duration-200">
                    创建社区
                </button>
            </div>
        </div>
    </div>
    
    <!-- 自定义分类模态框 -->
    <div id="custom-category-modal" class="hidden fixed inset-0 z-10 flex items-center justify-center bg-black/60 p-4">
        <div class="w-full max-w-md bg-slate-800 rounded-2xl shadow-lg">
            <div class="p-6">
                <h2 class="text-xl font-bold">自定义分类</h2>
                <p class="text-sm text-slate-400 mt-2">请输入你的分类名称。</p>
                <input type="text" id="custom-category-input" placeholder="例如：手工艺" class="mt-4 block w-full bg-slate-700/50 border border-slate-600 rounded-md shadow-sm py-3 px-4 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 sm:text-sm">
            </div>
            <div class="flex justify-end space-x-4 p-4 bg-slate-800/50 border-t border-slate-700">
                <button type="button" id="cancel-custom-category" class="px-5 py-2 text-sm font-medium rounded-full border border-slate-600 hover:bg-slate-700 transition-colors">
                    取消
                </button>
                <button type="button" id="create-custom-category" class="px-5 py-2 text-sm font-bold rounded-full text-white bg-sky-500 hover:bg-sky-600 transition-colors">
                    确定
                </button>
            </div>
        </div>
    </div>

    <script>
        const categoryContainer = document.getElementById('category-container');
        const otherCategoryBtn = document.getElementById('other-category-btn');
        const modal = document.getElementById('custom-category-modal');
        const cancelBtn = document.getElementById('cancel-custom-category');
        const createBtn = document.getElementById('create-custom-category');
        const customCategoryInput = document.getElementById('custom-category-input');

        // Function to handle category selection
        function handleCategorySelection(card) {
            // Remove 'selected' from all cards
            categoryContainer.querySelectorAll('.category-card').forEach(c => c.classList.remove('selected'));
            // Add 'selected' to the clicked card
            card.classList.add('selected');
        }

        // Add click listeners to all category cards
        categoryContainer.querySelectorAll('.category-card').forEach(card => {
            card.addEventListener('click', () => {
                if (card.id === 'other-category-btn') {
                    // If "Other" button is clicked, show the modal
                    const currentCustomName = card.querySelector('span').textContent;
                    if (currentCustomName !== '其他') {
                        customCategoryInput.value = currentCustomName;
                    }
                    modal.classList.remove('hidden');
                    customCategoryInput.focus(); // Automatically focus the input field
                } else {
                    // For predefined categories, just select it
                    handleCategorySelection(card);
                }
            });
        });

        // Hide modal on cancel
        cancelBtn.addEventListener('click', () => {
            modal.classList.add('hidden');
            customCategoryInput.value = ''; // Clear input on cancel
        });

        // Create or update custom category on "Create"
        createBtn.addEventListener('click', () => {
            const categoryName = customCategoryInput.value.trim();
            if (categoryName) {
                const otherBtnSpan = otherCategoryBtn.querySelector('span');
                otherBtnSpan.textContent = categoryName; // Update the text of the "Other" button
                
                handleCategorySelection(otherCategoryBtn); // Select the "Other" button
                
                // Hide the modal and clear input
                modal.classList.add('hidden');
                customCategoryInput.value = '';
            }
        });

        // Bind Enter key to the create button in the modal
        customCategoryInput.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                event.preventDefault(); // Prevent default form submission
                createBtn.click(); // Trigger the create button's click event
            }
        });
    </script>

</body>
</html>
